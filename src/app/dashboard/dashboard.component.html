<nav>
    <ol class="breadcrumb">
        <li clsss="breadcrumb-item"><a routerLink="/">Home</a></li>
        <li clsss="breadcrumb-item active"><a> &nbsp; / Dashboard  </a></li>
    </ol>
</nav>
<h5>Dashboard</h5>
<div class="row">
    <div class="col-lg-3 pb-3" style="background-color:#e9e6e6" >
            <div class="row">
                <div class="col-11  text-white text-center mx-2 rounded pt-2 pv-2 font-weight-bold" style="background-color:#a39e9e;font-family:Arial, Helvetica, sans-serif;" >
                        {{Designation|uppercase}}
                </div>
                <div class="col-12 text-center mt-2">   
                    <img src="assets/user/user.png"  style="width: 120px;" alt="">
                </div>
                <div class="col-12 text-center pt-2 pb-2 " style="font-family: Tahoma;">
                        {{Username}}
                </div>
                <div class="col-12 text-center pt-2 pb-2" style="font-family:Arial" >
                    TEAM SUMMARY
                </div>
                <div class="col-12 mb-3">
                    <ul class="list-group"> 
                            <li class="list-group-item d-flex justify-content-between align-items-center ">
                                    NO. OF TEAM MEMBERS
                                    <span class="badge badge-secondary badge-pill" style="font-size:13px;" > {{NoOfTeamMembers}}</span>
                            </li>
                            <li class="list-group-item d-flex justify-content-between align-items-center ">
                                TOTAL COST OF ALL PROJECTS
                                <span class="badge badge-secondary badge-pill" style="font-size:13px;" >$ {{TotalCostAllOfProjects  }} K</span>
                            </li>
                            <li class="list-group-item d-flex justify-content-between align-items-center ">
                               PENDING TASKS
                                <span class="badge badge-secondary badge-pill" style="font-size:13px;" >{{PendingTasks  }}</span>
                            </li>
                            <li class="list-group-item d-flex justify-content-between align-items-center ">
                               UPCOMING PROJECTS
                                 <span class="badge badge-secondary badge-pill" style="font-size:13px;" >{{UpComingProjects  }}</span>
                             </li>
                    </ul>
                </div>
                <div class="col-12  text-center pt-2 pb-2" style="font-family:Arial Narrow;" >
                        CLIENTS
                </div>
                <div class="col-12">
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item" *ngFor="let Client of Clients" >{{Client | slice:0:10}}</li>

                    </ul>
                </div>



            </div>
    </div>
    <div class="col-lg-6">

            <div class="row">
                <div class="col-12 pt-0 pb-2"  style="background-color:#e9e6e6">
                    <div class="row mt-2">
                         <div class="col-6 text-left">
                                <div class="dropdown">
                                    <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown">
                                        {{project}}
                                    </button>
                                    <div class="dropdown-menu">
                                        <a href="#"  class="dropdown-item" *ngFor="let project of Projects"  onclick="return false" (click)="onProjectChange($event)">{{project}}</a>
                                    </div>
                                </div>
                         </div>
                         <div class="col-6 text-right">
                            <div class="dropdown">
                                <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown">
                                    2019
                                </button>
                                <div class="dropdown-menu">
                                    <a href="#" class="dropdown-item" *ngFor="let year of Years"  >
                                        <span [ngSwitch]="year" >

                                            <span *ngSwitchCase="2019" style="color:red"  > {{year}} </span>
                                            <span *ngSwitchCase="2018" style="color:green"  > {{year}} </span>
                                            <span *ngSwitchCase="2017" style="color:blue"  > {{year}} </span>
                                            <span *ngSwitchDefault style="color:black"  > {{year}} </span>

                                        </span>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-11 mx-auto mt-1 text-white text-center pt-2 pb-2 mx-auto rounded font-weight-bold" style="background-color:#718d97;font-family:Arial Narrow" >
                        PROJECT BRIEFING
                    </div>
                    <div class="col-12" style="background:white">
                        <table class="table table-borderless">
                            <tr>
                                <td>Project Cost</td>
                                <td>{{ProjectCost | currency:"USD"}}</td>
                            </tr>

                            <tr>
                                <td>Current Expenditure</td>
                                <td>{{CurrentExpenditure | currency:"USD"}}</td>
                            </tr>
                            <tr>
                                <td>Available Funds </td>
                                <td>{{AvailableFunds | currency:"USD"}}</td>
                            </tr>
                        </table>
                    </div>
                    <div class="col-11 mx-auto mt-1  text-white text-center pt-2 pb-2  mx-2 rounded font-weight-bold" style="background-color:#718d97;font=family:Arial Narrow">
                            TEAM MEMBER SUMMARY
                    </div>
                    <div class="col-12" style="background-color: white;">
                        <table class="table table-striped">
                            <thead>
                              <tr>
                                <th>Region</th>
                                <th>Team Member Count</th>
                                <th>Temporarily Unavailable Members</th>
                              </tr>
                            </thead>
                            <tbody>
                              <tr *ngFor="let team of TeamMembersSummary">
                                <th>{{team.Region}}</th>
                                <td>{{team.TeamMembersCount}}</td>
                                <td>{{team.TemporarilyUnavailableMembers}}</td>
                              </tr>
                             
                            </tbody>
                          </table>
                    </div>

                </div>
            </div>




    </div>
    <div class="col-lg-3">
       <div class="row">
            <div class="col-11 mx-auto mt-1  text-white text-center pt-2 pb-2  mx-2 rounded font-weight-bold" style="background-color:#718d97;font=family:Arial Narrow">
                TEAM MEMBERS
           </div>
           <div class="col-lg-12 pt-2">
            <div id="accordion">
                <div class="card" *ngFor="let team of TeamMembers,let i = index">
                  <div class="card-header" id="headingOne">
                    <h5 class="mb-0">
                      <button class="btn btn-link" data-toggle="collapse" [attr.data-target]=" '#collapseOne'  + i  " aria-expanded="true" aria-controls="collapseOne" style="color:#000;text-decoration:none">
                        {{team.Region}}
                      </button>
                    </h5>
                  </div>
              
                  <div [id]=" 'collapseOne' + i " class="collapse" [ngClass] = "(i == 0) ? 'show' : '' "   aria-labelledby="headingOne" data-parent="#accordion">
                    <div class="card-body">
                        <table class="table table-striped">
                            <thead>
                              <tr>
                                <th>ID</th>
                                <th>Name</th>
                                <th>Status</th>
                              </tr>
                            </thead>
                            <tbody>
                              <tr *ngFor="let Member of team.Members" [style.color] = "(Member.Status == 'Busy') ? 'red' : 'black'" >
                                <th>{{Member.ID}}</th>
                                <td>{{Member.Name}}</td>
                                <td > <i class="fa fa-phone"></i> {{Member.Status}} </td>
                              </tr>
                           
                           
                            </tbody>
                          </table>
                    </div>
                  </div>
                </div>
              
              </div>
           </div>
        </div>
    </div>
</div>